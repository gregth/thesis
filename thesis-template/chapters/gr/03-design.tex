%\chapter{Σχεδίαση} \label{chapter:gr-design}
\chapter{Σχεδίαση} \label{chapter:gr-design}

Σε αυτό το κεφάλαιο, περιγράφουμε το σχεδιασμό και τους αλγορίθμους που καθορίζουν τη
λειτουργία του Cluster Autoscaler και του Scheduler, επισημαίνουμε τις
υπάρχουσες ελλείψεις όσον αφορά την τοπική αποθήκευση δεδομένων και προτείνουμε σχεδιαστικές
βελτιώσεις για να καταστεί δυνατή η απρόσκοπτη χρονοδρομολόγηση και αυτόματη κλιμάκωση όταν
χρησιμοποιούνται τοπικοί μόνιμοι τόμοι.

\section{Σχεδιαστική Λογική και Στόχοι}

Στόχος μας είναι να επεκτείνουμε
τον Kubernetes Scheduler και τον Kubernetes Cluster Autoscaler έτσι ώστε να
λειτουργούν απρόσκοπτα με φορτία εργασίας που χρησιμοποιούν τόμους με τοπικό αποθηκευτικό χώρο.

Πιο συγκεκριμένα, σκοπεύουμε:
\begin{itemize}
    \tightlist
    \item Να επεκτείνουμε τον Kubernetes Scheduler ώστε να λαμβάνει υπόψη του την
    αποθηκευτική ικανότητα κάθε κόμβου και να δρομολογεί τα Pods σε κόμβους που έχουν
    επαρκή ελεύθερο αποθηκευτικό χώρο για να φιλοξενήσουν τους τόμους που ζητάει το κάθε Pod.
    \item Να επεκτείνουμε τον Cluster Autoscaler ώστε να εκτελεί κλιμάκωση προς τα κάτω των κόμβων που εκτελούν Pods
    που χρησιμοποιούν τοπικούς τόμους αποθήκευσης, εξασφαλίζοντας ότι δημιουργούνται αντίγραφα ασφαλείας των δεδομένων
    πριν από τη διαγραφή του κόμβου από τη συστοιχία, προκειμένου να ανακτηθούν αργότερα σε
    έναν διαφορετικό κόμβο.
    \item Να επεκτείνουμε τον Cluster Autoscaler για να ελέγχει αν υπάρχει
    αρκετός διαθέσιμος αποθηκευτικός χώρος σε άλλους κόμβους για τη φιλοξενία
    των τόμων ενός Pod που εκτελείται σε έναν κόμβο, όταν ο κόμβος αξιολογείται
    για μείωση της κλίμακας.
    \item Να επεκτείνουμε τον Cluster Autoscaler ώστε κατά την κλιμάκωση προς τα πάνω να λαμβάνει υπόψη την αποθηκευτική
    χωρητικότητα των κόμβων που προσθέτει σε μια συστοιχία και να επιλέγει τον κατάλληλο
    τύπο κόμβου που διαθέτει επαρκή τοπική χωρητικότητα αποθήκευσης.
\end{itemize}


\input{chapters/gr/design/rok.tex}
\input{chapters/gr/design/scheduler.tex}
\input{chapters/gr/design/autoscaler.tex}